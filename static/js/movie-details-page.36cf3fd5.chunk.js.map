{"version":3,"sources":["components/MovieDetails/MovieDetails.js","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/moviesApi.js","components/OnToastError.js","images/default.jpg","components/Button/Button.module.css","components/MovieDetails/MovieDetails.module.css"],"names":["MoviesDetails","movie","url","className","s","wrapper","src","poster_path","noPosterImg","alt","title","original_name","width","poster","description","release_date","slice","info","rating","vote_average","overview","genreList","genres","map","genre","name","id","navigation","link","to","type","Button","Cast","lazy","Reviews","MovieDetailsPage","history","useHistory","location","useLocation","useState","setMovie","movieId","useParams","useRouteMatch","useEffect","a","fetchMovieId","length","Error","onErrorToast","onFetchMovies","onClick","push","state","from","fallback","path","BASE_URL","API_KEY","fetchMovie","page","axios","get","response","data","results","movie_id","fetchMovieCredits","cast","fetchMovieReviews","fetchMoviesSearchQuery","searchQuery","toast","error","notFoundToast","warning","module","exports"],"mappings":"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","file":"static/js/movie-details-page.36cf3fd5.chunk.js","sourcesContent":["import noPosterImg from '../../images/default.jpg'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './MovieDetails.module.css'\r\n\r\nexport default function MoviesDetails({ movie, url }) {\r\n  return (\r\n    <>\r\n      <div className={s.wrapper}>\r\n        <img\r\n          src={\r\n            movie.poster_path\r\n              ? `https://image.tmdb.org/t/p/w300${movie.poster_path}`\r\n              : noPosterImg\r\n          }\r\n          alt={movie.title && movie.original_name}\r\n          width=\"450px\"\r\n          className={s.poster}\r\n        />\r\n        <div className={s.description}>\r\n          <h2 className={s.title}>\r\n            {movie.title && movie.original_name}\r\n            {movie.title}\r\n            {movie.release_date && (\r\n              <span> ({movie.release_date.slice(0, 4)})</span>\r\n            )}\r\n          </h2>\r\n          <h3 className={s.title}>\r\n            Rating:\r\n            <span className={(s.info, s.rating)}>‚≠ê{movie.vote_average}</span>\r\n          </h3>\r\n          <h3 className={s.title}>Overview</h3>\r\n          <p className={s.info}>{movie.overview}</p>\r\n          <h2 className={s.title}>\r\n            Genres:\r\n            <ul className={s.genreList}>\r\n              {movie.genres &&\r\n                movie.genres.map((genre) => (\r\n                  <li key={genre.id}>&#x2662; {genre.name}</li>\r\n                ))}\r\n            </ul>\r\n          </h2>\r\n        </div>\r\n      </div>\r\n      <ul className={s.navigation}>\r\n        <li className={s.link}>\r\n          <NavLink to={`${url}/cast`}>\r\n            <button type=\"button\" className={s.Button}>\r\n              Cast\r\n            </button>\r\n          </NavLink>\r\n        </li>\r\n\r\n        <li className={s.link}>\r\n          <NavLink to={`${url}/reviews`}>\r\n            <button type=\"button\" className={s.Button}>\r\n              Reviews\r\n            </button>\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  )\r\n}","import { useParams, useLocation, useHistory } from 'react-router'\r\nimport { useState, useEffect, lazy, Suspense } from 'react'\r\nimport { Route, useRouteMatch } from 'react-router-dom'\r\nimport { fetchMovieId } from '../../services/moviesApi'\r\nimport MoviesDetails from '../../components/MovieDetails/MovieDetails'\r\nimport { GalleryLoader }   from '../../components/Loader/Loader'\r\nimport { onErrorToast } from '../../components/OnToastError'\r\nimport s from '../../components/Button/Button.module.css'\r\n\r\nconst Cast = lazy(() =>\r\n  import('../../components/Cast/Cast' /* webpackChunkName: \"cast\" */),\r\n)\r\nconst Reviews = lazy(() =>\r\n  import('../../components/Reviews/Reviews' /* webpackChunkName: \"reviews\" */),\r\n)\r\n\r\nexport default function MovieDetailsPage() {\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const [movie, setMovie] = useState([])\r\n  const { movieId } = useParams()\r\n  const { url } = useRouteMatch()\r\n\r\n  useEffect(() => {\r\n    async function onFetchMovies() {\r\n      try {\r\n        const movie = await fetchMovieId(movieId)\r\n\r\n        if (movie.length === 0) {\r\n          throw new Error()\r\n        }\r\n\r\n        setMovie(movie)\r\n      } catch (error) {\r\n        onErrorToast()\r\n      }\r\n    }\r\n\r\n    onFetchMovies()\r\n  }, [movieId])\r\n\r\n  const onGoBack = () => {\r\n    history.push(location?.state?.from ?? '/')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {movie && (\r\n        <button type=\"button\" className={s.Button} onClick={onGoBack}>\r\n          Back\r\n        </button>\r\n      )}\r\n\r\n      {movie && <MoviesDetails movie={movie} url={url} location={location} />}\r\n      {movie && (\r\n        <Suspense\r\n          fallback={\r\n            <h1>\r\n              <GalleryLoader />\r\n            </h1>\r\n          }\r\n        >\r\n          <Route path=\"/movies/:movieId/cast\">\r\n            <Cast />\r\n          </Route>\r\n\r\n          <Route path=\"/movies/:movieId/reviews\">\r\n            <Reviews />\r\n          </Route>\r\n        </Suspense>\r\n      )}\r\n    </>\r\n  )\r\n}","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3'\r\nconst API_KEY = 'ec2decab2c803075323649cd6bc24f80'\r\n\r\nexport const fetchMovie = async (page) => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=${page}`,\r\n  )\r\n  const results = await response.data.results\r\n\r\n  return results\r\n}\r\n\r\nexport const fetchMovieId = async (movie_id) => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/movie/${movie_id}?api_key=${API_KEY}&language=en-US`,\r\n  )\r\n\r\n  const results = await response.data\r\n\r\n  return results\r\n}\r\n\r\nexport const fetchMovieCredits = async (movie_id) => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/movie/${movie_id}/credits?api_key=${API_KEY}&language=en-US`,\r\n  )\r\n  const results = await response.data.cast\r\n\r\n  return results\r\n}\r\n\r\nexport const fetchMovieReviews = async (movie_id) => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/movie/${movie_id}/reviews?api_key=${API_KEY}&language=en-US`,\r\n  )\r\n  const results = await response.data.results\r\n\r\n  return results\r\n}\r\n\r\nexport const fetchMoviesSearchQuery = async (searchQuery, page) => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&page=${page}&language=en&query=${searchQuery}`,\r\n  )\r\n  const results = await response.data.results\r\n\r\n  return results\r\n}","import { toast } from 'react-toastify'\r\n\r\nexport function onErrorToast() {\r\n  toast.error('Please enter a valid request')\r\n}\r\n\r\nexport function notFoundToast() {\r\n  toast.warning('Sorry, no results were found')\r\n}","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__ANz9B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MovieDetails_wrapper__1lENr\",\"navigation\":\"MovieDetails_navigation__3t3Yp\",\"link\":\"MovieDetails_link__3b7XH\",\"poster\":\"MovieDetails_poster__2iZPv\",\"title\":\"MovieDetails_title__1YQFr\",\"info\":\"MovieDetails_info__2-r6g\",\"genreList\":\"MovieDetails_genreList__NN2RE\",\"description\":\"MovieDetails_description__2AqVB\",\"rating\":\"MovieDetails_rating__2-g8Y\",\"Button\":\"MovieDetails_Button__1oM5w\"};"],"sourceRoot":""}